@page
@model CNMaisons.Pages.IndexStaffModel
@{
    ViewData["Title"] = "Home";
}
<div class="memberhome">
    <div>
        <div class="home_intro">
            <nav class="memberhome_nav">
                <a href="~/Index"><img src="~/img/png/logo-no-background.png" width="150" class="intro_image" /></a>
                @if (Model.Users.Role == "LandLord")
                {
                    <ul>
                        <li><a href="~/IndexStaff">My Account</a></li>
                        <li><a href="~/AddProperty">Add Property</a></li>
                        <li><a href="~/CreateAccount">Create New Employee Account</a></li>
                        <li><a href="#">View Visit Requests</a></li>
                        <li><a href="~/ViewPropertyAdmin">View Properties</a></li>
                        <li><a href="~/ReviewApplication">Review Application</a></li>



                    </ul>
                }
                @if (Model.Users.Role == "Staff")
                {
                    <ul>
                        <li>
                            <a href="~/IndexStaff">My Account</a>
                        </li>
                        <li>
                            <a href="~/AddProperty">Add Property</a>
                        </li>
                        <li>
                            <a href="#">View Visit Requests</a>
                        </li>
                        
                    </ul>
                }
            </nav>
            <div class="basic_info">
                <div class="icon_div">
                    @if (Model.Employee.EmployeeImage != null)
                    {
                        <img src="data:image;base64,@Convert.ToBase64String(Model.Employee.EmployeeImage)" alt="Property Image" />
                    }
                    else
                    {
                        <a href="~/Index"><img src="~/img/profile_icon" width="150" class="intro_image" /></a>
                    }
                </div>
                <h2>@Model.Employee.FirstName @Model.Employee.LastName</h2>
                <p>@Model.Users.Role</p>
            </div>
        </div> 
        <p class="title">Account info</p>
        <div class="infodiv transition-fade-down">
            <form method="post" name="StaffAccountForm">              
                <div>
                    <div>
                        <p class="title">FirstName</p>
                        <div class="val">@Model.Employee.FirstName</div>
                        <p class="title">LastName</p>
                        <div class="val">@Model.Employee.LastName</div>
                    </div>
                    <fieldset>
                        @if (Model.SuccessMessage != "")
                        {
                            <p class="success_message">@Model.SuccessMessage</p>
                        }
                        <legend>Update Password</legend>
                        <label for="Email">Email</label>
                        <br />
                        <input type="email" name="Email" required maxlength="100" value="@Model.Users.Email" />
                        <br />
                        <label for="Password">Password</label>
                        <br />
                        <input type="password" name="Password"  required />
                        <br />
                        <label for="ConfirmPassword">Confirm Password</label>
                        <br />
                        <input type="password" name="ConfirmPassword"  required />
                        <br />
                        @Html.ValidationMessage("PasswordError")
                        @Html.ValidationMessage("ConfirmPasswordError")
                        @Html.ValidationMessage("PasswordMatchError")
                        <input type="submit" name="Submit" class="btn" value="Update">

                    </fieldset>
                </div>
                @if (Model.IsPasswordChaned == false)
                {
                    <div class="update-password transition-fade-down">
                        <p>Default Password: Update Your Password to Secure Your Account</p>
                        <label for="Password">New Password</label><br/>
                        <input type="password" name="Password" required><br/>
                        @Html.ValidationMessage("PasswordError")
                        <label for="ConfirmPassword">Re-enter Password</label><br/>
                        <input type="password" name="ConfirmPassword" required><br />
                        @Html.ValidationMessage("ConfirmPasswordError")
                        @Html.ValidationMessage("PasswordMatchError")
                        <input type="submit" name="Submit" value="Update Password">
                    </div>
                }
            </form>
        </div>
    </div>
</div>
